<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--모바일용 화면으로 적용하게 해줌-->
    <link rel="stylesheet" href="lotto.css">
    <title>kong의 로또번호 맞추기</title>
</head>
<body>
    <h3> 로또 번호 맞추기 (대박 나세요!!) </h3><br>

    <script type="text/javascript"></script>
    <script src="lotto.js"></script>

    <!-- <script>document.write(`이번주의 메인 추천번호는 : `, lottoNum()); </script> -->

    <div class="something">
        <div class = 'btnBox'><button id = "btn1">로또 1조 보여주기</button></div> 
        <div class = 'btnBox'><button id = "btn2">로또 2조 보여주기</button></div> 
        <div class = 'btnBox'><button id = "btn3">로또 3조 보여주기</button></div> 
        <div class = 'btnBox'><button id = "btn4">로또 4조 보여주기</button></div>
        <div class = 'btnBox'><button id = "btn5">로또 5조 보여주기</button></div><br> 
        <button id = "btn6"> 꿈에서 본 번호는 ? </button>
    </div>
    
    <script>
        let t1 = document.getElementById('btn1');
        let t2 = document.getElementById('btn2');
        let t3 = document.getElementById('btn3');
        let t4 = document.getElementById('btn4');
        let t5 = document.getElementById('btn5');
        let t6 = document.getElementById('btn6');

        const clickBtn = document.querySelector(".something")

        function btn_listener(event) {
            switch (event.target.id) {
                case 'btn1':
                    clickBtn.innerHTML = (`이번주 1조 번호는 : ` + lottoNum());
                    //console.log(lottoNum());
                    break;
                case 'btn2':
                    clickBtn.innerHTML = (`이번주 2조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 2조 번호는 : ` + lottoNum());
                    break;
                case 'btn3':
                    clickBtn.innerHTML = (`이번주 3조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 3조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 3조 번호는 : ` + lottoNum())
                    break;
                case 'btn4':
                    clickBtn.innerHTML = (`이번주 4조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 4조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 4조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 4조 번호는 : ` + lottoNum())
                    break;
                case 'btn5':
                    clickBtn.innerHTML = (`이번주 5조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 5조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 5조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 5조 번호는 : ` + lottoNum() + '<br/>');
                    clickBtn.innerHTML = clickBtn.innerHTML + (`이번주 5조 번호는 : ` + lottoNum())
                    break;
                case 'btn6':
                    let getNum = prompt("당신이 꿈에서 본 번호는 ?", "예 : 1,12,24,...");
                        getNum = getNum.split(','); //promot()에서 여러 항목을 입력받음
                            console.log(getNum);
                    // 1째 조건 : 입력받은 숫자가 45보다 크면 다시 입력 받는다.

                    // 문제 1, 받은 수가 0일때 재 입력을 받아야 하는데, 않됨
                    // 문제 2, 반복되는 부분이 많아서 정리해야 하는데, 어떻게 해야할지 모름
                    // 문제 3, 중복 숫자가 아직도 발생함

                        const isBelowThreshold = (currentValue) => currentValue < 46;
                        const getNumless = getNum.every(isBelowThreshold) //array.every() - 메서드는 배열 안의 모든 요소가 주어진 판별 함수를 통과하는지 테스트합니다. Boolean 값을 반환합니다.                            
                            console.log(getNum.every(isBelowThreshold))

                        if (getNumless === false) {
                            getNum = prompt("45보다 작은수를 입력해 주세요 ?", "예 : 2,34,21, ...");
                            console.log(getNumless);
                            getNum = getNum.split(',');
                            console.log(getNum)

                            const isBelowThreshold = (currentValue) => currentValue < 46;
                            console.log(getNum.every(isBelowThreshold))
                            const getNumless = getNum.every(isBelowThreshold) //array.every() 참조하기                            
                            }
                        if (getNumless === false) {
                            getNum = prompt("45보다 작은수를 입력해 주세요 ?", "예 : 2,34,21, ...");
                            getNum = getNum.split(',');
                            console.log(getNum)

                            const isBelowThreshold = (currentValue) => currentValue < 46;
                            console.log(getNum.every(isBelowThreshold))
                            const getNumless = getNum.every(isBelowThreshold) //array.every() 참조하기                            
                            }

                            let result = getNum.map(function(x){
                            return parseInt(x);
                        });  //String[]를 Number[]로 변경

                    // 2째 조건 : 입력받은 수가 몇개인지 확인하고 6보다 적으면 나머지는 자동 생성한다.
                        let count = result.length;
                        while (count < 6) {
                            let num_2 = Math.floor(Math.random() * 45 + 1 );
                            count = count + 1;

                            for (let j in result) {
                                if (num_2 === result) {
                                    num_2 = Math.floor(Math.random() * 45 + 1 );
                                } // 숫자의 중복확인
                            } // 6자리의 Math.random()생성
                            result.push(num_2);  // 새로운 숫자를 하나씩 추가
                        }
                        console.log(result)

                        result.sort(function (a,b) {
                            return a-b;
                            }) // 오름차순으로 숫자를 정렬
                        
                        if (getNum === null || getNum === ""){
                            clickBtn.innerHTML = (`번호 입력이 없을때 : ` + lottoNum());
                        } else {
                            clickBtn.innerHTML = (`꿈속 숫자와... : ` + result);
                        } // prompt()에 입력이 없을때와 있을때
                        
                    break;
            }
        }

        t1.addEventListener('click', btn_listener);
        t2.addEventListener('click', btn_listener);
        t3.addEventListener('click', btn_listener);
        t4.addEventListener('click', btn_listener);
        t5.addEventListener('click', btn_listener);
        t6.addEventListener('click', btn_listener);
    </script>
</body> <br>
<p>이 프로그램은 개인의 공부를 위해서 만들었으며, 영리목적으로 사용할수 없습니다.</p>
<p>nanireu@gmail.com</p>
</html>

<!--
    v2.7 : 2022.6.10 prompt()에서 45보다 큰수를 입력했을때 다시 prompt()실행, 2022.6.26일 해결 햐~ 
        ->아직 미해결..
    v2.6 : 2022.6.8 꿈에서본 숫자와 중복 확인하기.
    v2.5 : 2022.6.6 꿈에서본 번호 입력받아 로또번호 작성하기.
    v2.4 : 2022.6.2 lotto.css를 추가하여 간단하게 css를 적용하였습니ㅏㄷ.
    v2.3 : 2022.5.25 innerText & innerHtml, <p class="something"></p>
        document.querySelector(".something") 과 관련한 공부.
    v2.2 : 2022.5.23 document.getElementById와 addeventListene를 분리하고 whitch를 사용하여 코드를 좀더 분류했다.
-->